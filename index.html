<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Bethany's Pie Shop</title>
  <link href="./css/main.css" rel="stylesheet">
</head>

<body>
  <header class="site-header">
    <div class="site-header-wrapper">
      <h1><a href="index.html"><img src="./img/logo.png" alt="Bethany's Pie Shop Logo" /></a></h1>
      <nav>
        <ul>
          <li><a class="shop-dropdown" href="#">Shop <span>&#8964;</span></a>
            <ul id="hover-menu">
              <li><a href="#">Seasonal Pies</a></li>
              <li><a href="#">Fruit Pies</a></li>
              <li><a href="shop.html">Cheesecakes</a></li>
              <li><a href="#">All Pies</a></li>
            </ul>
          </li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="#">Register</a></li>
        </ul>
      </nav>
      <div class="header-icons">
        <ul>
          <li><a href=""><img src="./img/search-icon.png" alt="search icon" /></a></li>
          <li><a href="login.html"><img src="./img/profile-icon.png" alt="profile icon" /></a></li>
          <li><a href="cart.html"><img src="./img/cart-icon.png" alt="shopping cart icon" /></a></li>
        </ul>
      </div>
    </div>
  </header>
  <div id="welcomeMessage" style="text-align: right; margin: 10px 20px; font-weight: bold;"></div>
  <section class="main-content">
    <div class="carousel">
      <div class="carousel-image"><img src="./img/hero-1.png" alt="larger header image of blueberry pie" /></div>
      <div class="carousel-image"><img src="./img/hero-2.png" alt="larger header image of blueberry pie" /></div>
      <div class="carousel-image"><img src="./img/hero-3.png" alt="larger header image of blueberry pie" /></div>
      <button class="carousel-button-1 active-carousel-item"></button>
      <button class="carousel-button-2"></button>
      <button class="carousel-button-3"></button>
    </div>
    <div class="focused-message">
      <div class="logo">
        <p>B</p>
      </div>
      <h2>Pies of the Week</h2>
      <p>Enjoy a weekly selection of our favorite pies</p>
      <div class="welcome-message">
        <p id="welcomeMessage"></p>
      </div>  
    </div>
  </section>
  <section>
    <div class="pie-grid">
      <div class="pie-item">
        <img src="./img/pie-1.png" alt="image of Classic Apple Pie" />
        <div class="add-to-cart">
            <p>
                <a href="#" onclick='addToCart({id: 1, name: "Classic Apple Pie", price: 12.95, image: "./img/pie-1.png"})'>
                    + Add to cart
                </a>
            </p>
        </div>
        <div class="add-to-favorite">
          <p>
            <button onclick='markAsFavorite("Classic Apple Pie")'>❤️ Mark as Favorite</button>
          </p>
        </div>
        <div class="pie-size">
          <label for="size-1">Size:</label>
          <select id="size-1" onchange="logSizeSelection(1)">
            <option value="Small">Small</option>
            <option value="Medium" selected>Medium</option>
            <option value="Large">Large</option>
          </select>
        </div>
        <div class="pie-info">
          <h4>Classic Apple Pie</h4>
          <p>$12.95</p>
        </div>
      </div>
      <div class="pie-item">
        <img src="./img/pie-2.png" alt="image of Pumpkin Pie" />
        <div class="add-to-cart">
            <p>
                <a href="#" onclick='addToCart({id: 2, name: "Pumpkin Pie", price: 12.95, image: "./img/pie-2.png"})'>
                    + Add to cart
                </a>
            </p>
        </div>
        <div class="add-to-favorite">
          <p>
            <button onclick='markAsFavorite("Pumpkin Pie")'>❤️ Mark as Favorite</button>
          </p>
        </div>
        <div class="pie-size">
          <label for="size-2">Size:</label>
          <select id="size-2" onchange="logSizeSelection(2)">
            <option value="Small">Small</option>
            <option value="Medium" selected>Medium</option>
            <option value="Large">Large</option>
          </select>
        </div>
        <div class="pie-info">
          <h4>Pumpkin Pie</h4>
          <p>$12.95</p>
        </div>
      </div>
      <div class="pie-item">
        <img src="./img/pie-3.png" alt="image of Pecan Pie" />
        <div class="add-to-cart">
            <p>
                <a href="#" onclick='addToCart({id: 3, name: "Pecan Pie", price: 12.95, image: "./img/pie-3.png"})'>
                    + Add to cart
                </a>
            </p>
        </div>
        <div class="add-to-favorite">
          <p>
            <button onclick='markAsFavorite("Pecan Pie")'>❤️ Mark as Favorite</button>
          </p>
        </div>
        <div class="pie-size">
          <label for="size-3">Size:</label>
          <select id="size-3" onchange="logSizeSelection(3)">
            <option value="Small">Small</option>
            <option value="Medium" selected>Medium</option>
            <option value="Large">Large</option>
          </select>
        </div>
        <div class="pie-info">
          <h4>Pecan Pie</h4>
          <p>$12.95</p>
        </div>
      </div>
    </div>
  </section>
  </div>
  <script src="./js/dropdown.js"></script>
  <script src="./js/carousel.js"></script>
  <script src="./js/cart.js"></script>
  <script src="./js/favorite.js"></script>
  <script src="./js/pie-options.js"></script>
  <script>
    const loggedInUser = localStorage.getItem("loggedInUser");
    const welcomeElem = document.getElementById("welcomeMessage");
  
    if (loggedInUser) {
      welcomeElem.textContent = `Welcome back, ${loggedInUser}!`;
    } else {
      welcomeElem.textContent = "Welcome to Bethany's Pie Shop!";
    }
  </script>  
</body>

</html>